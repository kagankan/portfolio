---
import type { ImageMetadata } from "@astrojs/image/dist/vite-plugin-astro-image";
import type { HTMLAttributes } from "astro/types";
export type Props = Omit<HTMLAttributes<"img">, "src"> & {
  src: string | ImageMetadata;
};
const { src, ...restProps } = Astro.props;
---

{
  typeof src === "string" ? (
    <img src={src} loading="lazy" decoding="async" {...restProps} />
  ) : (
    <img src={src.src} width={src.width} height={src.height} loading="lazy" decoding="async" {...restProps} />
  )
}
